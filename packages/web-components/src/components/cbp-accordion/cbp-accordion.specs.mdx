import { Meta } from '@storybook/addon-docs';

<Meta title="Components/Accordion/Specifications" />

# cbp-accordion and cbp-accordion-item

## Purpose

An Accordion is a common paradigm for progressive disclosure, organizing content under a relevant heading which is used as a control for revealing and hiding its content.

## Functional Requirements

* The Accordion component is a wrapper that defines a parent context for its child Accordion Items.
* An Accordion may contain one or more Accordion Items.
* By default, all Accordion Items begin closed but may be specified as `open` via property.
* The default behavior is that when one Accordion Item is opened, all others in the Accordion will be closed.
* This behavior may be overridden to allow multiple items to remain open via a property on the parent Accordion component.
* Accordion Items may be displayed as a "danger" variant.

## Technical Specifications

### User Interactions

* Accordion Items are toggled via its heading.
  * While the entire heading is not a button, clicking anywhere on it will toggle its content.
  * When using keyboard navigation, the actual chevron button will gain focus and activation will toggle the accordion item.

### Responsiveness

* Accordion Item headings should remain brief enough to prevent wrapping into more than two lines on the smallest device profile.

### Accessibility

* Accordion Item headings default to `h3` tags, but should use the appropriate heading level for the document structure.
* When the Accordion Item heading is activated, whether content is expanded or collapsed, focus is sent to the actual button control.
* The button control has the `aria-expanded` attribute applied to convey statefulness of the Accordion Item.
* The button control also contains the `aria-controls` attribute, referencing the `id` of the Accordion Item content wrapper.

### Additional Notes and Considerations

* If manually setting multiple Accordion Items to open via the property, the component will not force only one open even if `multiple` is not specified.
  * So, you could specify all items open by default, regardless of this property.
  * If `multiple` is not set to true, all Accordion Items will be closed when one is toggled to `open` via user interaction.
* TODO: Investigate implementing `hidden="until-found"` for collapsed content. (https://developer.chrome.com/docs/css-ui/hidden-until-found)